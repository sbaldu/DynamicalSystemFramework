<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynamical system model: dsm::RoadDynamics&lt; delay_t &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dynamical system model
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classdsm_1_1RoadDynamics.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdsm_1_1RoadDynamics-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dsm::RoadDynamics&lt; delay_t &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classdsm_1_1RoadDynamics.html" title="The RoadDynamics class represents the dynamics of the network.">RoadDynamics</a> class represents the dynamics of the network.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;RoadDynamics.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dsm::RoadDynamics&lt; delay_t &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdsm_1_1RoadDynamics.png" usemap="#dsm::RoadDynamics_3C_20delay_5Ft_20_3E_map" alt=""/>
  <map id="dsm::RoadDynamics_3C_20delay_5Ft_20_3E_map" name="dsm::RoadDynamics_3C_20delay_5Ft_20_3E_map">
<area href="classdsm_1_1Dynamics.html" alt="dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;" shape="rect" coords="0,0,217,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2e7c477b418ed6c61f88355a2916bd79" id="r_a2e7c477b418ed6c61f88355a2916bd79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e7c477b418ed6c61f88355a2916bd79">RoadDynamics</a> (<a class="el" href="classdsm_1_1Graph.html">Graph</a> &amp;<a class="el" href="classdsm_1_1Dynamics.html#a92935a5136568eeed62f78e690514fc4">graph</a>, std::optional&lt; unsigned int &gt; seed)</td></tr>
<tr class="memdesc:a2e7c477b418ed6c61f88355a2916bd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classdsm_1_1RoadDynamics.html" title="The RoadDynamics class represents the dynamics of the network.">RoadDynamics</a> object.  <br /></td></tr>
<tr class="separator:a2e7c477b418ed6c61f88355a2916bd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce16360e5da3152a04089a56c484b38" id="r_a9ce16360e5da3152a04089a56c484b38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ce16360e5da3152a04089a56c484b38">setErrorProbability</a> (double errorProbability)</td></tr>
<tr class="memdesc:a9ce16360e5da3152a04089a56c484b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the error probability.  <br /></td></tr>
<tr class="separator:a9ce16360e5da3152a04089a56c484b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727c9907afe275b15dbc4dba912a973c" id="r_a727c9907afe275b15dbc4dba912a973c"><td class="memItemLeft" align="right" valign="top"><a id="a727c9907afe275b15dbc4dba912a973c" name="a727c9907afe275b15dbc4dba912a973c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPassageProbability</b> (double passageProbability)</td></tr>
<tr class="separator:a727c9907afe275b15dbc4dba912a973c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216653cf5a0f151fa8eb93a0e01cce42" id="r_a216653cf5a0f151fa8eb93a0e01cce42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a216653cf5a0f151fa8eb93a0e01cce42">setForcePriorities</a> (bool forcePriorities)</td></tr>
<tr class="memdesc:a216653cf5a0f151fa8eb93a0e01cce42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the force priorities flag.  <br /></td></tr>
<tr class="separator:a216653cf5a0f151fa8eb93a0e01cce42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7d2135120ec276235f9d4ce7199818" id="r_a1c7d2135120ec276235f9d4ce7199818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c7d2135120ec276235f9d4ce7199818">setDataUpdatePeriod</a> (delay_t dataUpdatePeriod)</td></tr>
<tr class="memdesc:a1c7d2135120ec276235f9d4ce7199818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the data update period.  <br /></td></tr>
<tr class="separator:a1c7d2135120ec276235f9d4ce7199818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e64241144ebce8b5a5337b30daf726" id="r_a10e64241144ebce8b5a5337b30daf726"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10e64241144ebce8b5a5337b30daf726">addAgentsUniformly</a> (Size <a class="el" href="classdsm_1_1Dynamics.html#a811051db427641b8095c84d9d9fd4f0a">nAgents</a>, std::optional&lt; Id &gt; itineraryId=std::nullopt)</td></tr>
<tr class="memdesc:a10e64241144ebce8b5a5337b30daf726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a set of agents to the simulation.  <br /></td></tr>
<tr class="separator:a10e64241144ebce8b5a5337b30daf726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650f3ff232559264393f0eb9bbf0f61a" id="r_a650f3ff232559264393f0eb9bbf0f61a"><td class="memTemplParams" colspan="2">template&lt;typename TContainer &gt; <br />
requires (std::is_same_v&lt;TContainer, std::unordered_map&lt;Id, double&gt;&gt; || std::is_same_v&lt;TContainer, std::map&lt;Id, double&gt;&gt;)</td></tr>
<tr class="memitem:a650f3ff232559264393f0eb9bbf0f61a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a650f3ff232559264393f0eb9bbf0f61a">addAgentsRandomly</a> (Size <a class="el" href="classdsm_1_1Dynamics.html#a811051db427641b8095c84d9d9fd4f0a">nAgents</a>, const TContainer &amp;src_weights, const TContainer &amp;dst_weights)</td></tr>
<tr class="memdesc:a650f3ff232559264393f0eb9bbf0f61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a set of agents to the simulation.  <br /></td></tr>
<tr class="separator:a650f3ff232559264393f0eb9bbf0f61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c66068e1b8c35c543884794748472b0" id="r_a8c66068e1b8c35c543884794748472b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c66068e1b8c35c543884794748472b0">evolve</a> (bool reinsert_agents=false) override</td></tr>
<tr class="memdesc:a8c66068e1b8c35c543884794748472b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evolve the simulation.  <br /></td></tr>
<tr class="separator:a8c66068e1b8c35c543884794748472b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe8243abb7a8d9055791bf91bdbce36" id="r_a7fe8243abb7a8d9055791bf91bdbce36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fe8243abb7a8d9055791bf91bdbce36">optimizeTrafficLights</a> (double const threshold=0., double const densityTolerance=0., TrafficLightOptimization optimizationType=TrafficLightOptimization::DOUBLE_TAIL)</td></tr>
<tr class="memdesc:a7fe8243abb7a8d9055791bf91bdbce36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimize the traffic lights by changing the green and red times.  <br /></td></tr>
<tr class="separator:a7fe8243abb7a8d9055791bf91bdbce36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23171abf782e64ccc2064510ffe4ccc" id="r_af23171abf782e64ccc2064510ffe4ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af23171abf782e64ccc2064510ffe4ccc">meanTravelTime</a> (bool clearData=false)</td></tr>
<tr class="memdesc:af23171abf782e64ccc2064510ffe4ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean travel time of the agents in <img class="formulaInl" alt="$s$" src="form_3.png"/>.  <br /></td></tr>
<tr class="separator:af23171abf782e64ccc2064510ffe4ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d11b91ab4f49b69c65602eb3a8c0f3" id="r_ad3d11b91ab4f49b69c65602eb3a8c0f3"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; Id, std::array&lt; unsigned long long, 4 &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3d11b91ab4f49b69c65602eb3a8c0f3">turnCounts</a> () const</td></tr>
<tr class="memdesc:ad3d11b91ab4f49b69c65602eb3a8c0f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the turn counts of the agents.  <br /></td></tr>
<tr class="separator:ad3d11b91ab4f49b69c65602eb3a8c0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845dd93c3d2efdf86426a57c05b7e7f8" id="r_a845dd93c3d2efdf86426a57c05b7e7f8"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; Id, std::array&lt; double, 4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a845dd93c3d2efdf86426a57c05b7e7f8">turnProbabilities</a> (bool reset=true)</td></tr>
<tr class="memdesc:a845dd93c3d2efdf86426a57c05b7e7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the turn probabilities of the agents.  <br /></td></tr>
<tr class="separator:a845dd93c3d2efdf86426a57c05b7e7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8cc69434204a86426a14b6b58a49f2" id="r_a7e8cc69434204a86426a14b6b58a49f2"><td class="memItemLeft" align="right" valign="top"><a id="a7e8cc69434204a86426a14b6b58a49f2" name="a7e8cc69434204a86426a14b6b58a49f2"></a>
std::unordered_map&lt; Id, std::array&lt; long, 4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>turnMapping</b> () const</td></tr>
<tr class="separator:a7e8cc69434204a86426a14b6b58a49f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdsm_1_1Dynamics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classdsm_1_1Dynamics')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a></td></tr>
<tr class="memitem:ab9fadcb33850297d404af6bca6656560 inherit pub_methods_classdsm_1_1Dynamics" id="r_ab9fadcb33850297d404af6bca6656560"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ab9fadcb33850297d404af6bca6656560">Dynamics</a> (<a class="el" href="classdsm_1_1Graph.html">Graph</a> &amp;<a class="el" href="classdsm_1_1Dynamics.html#a92935a5136568eeed62f78e690514fc4">graph</a>, std::optional&lt; unsigned int &gt; seed)</td></tr>
<tr class="memdesc:ab9fadcb33850297d404af6bca6656560 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classdsm_1_1Dynamics.html" title="The Dynamics class represents the dynamics of the network.">Dynamics</a> object.  <br /></td></tr>
<tr class="separator:ab9fadcb33850297d404af6bca6656560 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2a8c55847ea02cc5c2356c14b9659e inherit pub_methods_classdsm_1_1Dynamics" id="r_a7d2a8c55847ea02cc5c2356c14b9659e"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>setAgentSpeed</b> (Size agentId)=0</td></tr>
<tr class="separator:a7d2a8c55847ea02cc5c2356c14b9659e inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e3ea8492238fcbe43d3ef9fdab1d03 inherit pub_methods_classdsm_1_1Dynamics" id="r_ab1e3ea8492238fcbe43d3ef9fdab1d03"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>updatePaths</b> ()</td></tr>
<tr class="memdesc:ab1e3ea8492238fcbe43d3ef9fdab1d03 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the paths of the itineraries based on the actual travel times. <br /></td></tr>
<tr class="separator:ab1e3ea8492238fcbe43d3ef9fdab1d03 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5496fbe07360723d533b14a20ca201f8 inherit pub_methods_classdsm_1_1Dynamics" id="r_a5496fbe07360723d533b14a20ca201f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a5496fbe07360723d533b14a20ca201f8">setDestinationNodes</a> (const std::span&lt; Id &gt; &amp;destinationNodes, bool <a class="el" href="classdsm_1_1Dynamics.html#ab1e3ea8492238fcbe43d3ef9fdab1d03">updatePaths</a>=true)</td></tr>
<tr class="memdesc:a5496fbe07360723d533b14a20ca201f8 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the dynamics destination nodes auto-generating itineraries.  <br /></td></tr>
<tr class="separator:a5496fbe07360723d533b14a20ca201f8 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78511e30a5a36cb74a056b23d7f5632a inherit pub_methods_classdsm_1_1Dynamics" id="r_a78511e30a5a36cb74a056b23d7f5632a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a78511e30a5a36cb74a056b23d7f5632a">addAgent</a> (std::unique_ptr&lt; <a class="el" href="classdsm_1_1Agent.html">Agent</a>&lt; delay_t &gt; &gt; agent)</td></tr>
<tr class="memdesc:a78511e30a5a36cb74a056b23d7f5632a inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an agent to the simulation.  <br /></td></tr>
<tr class="separator:a78511e30a5a36cb74a056b23d7f5632a inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9413637352622c4a1b0c357addae19e inherit pub_methods_classdsm_1_1Dynamics" id="r_ad9413637352622c4a1b0c357addae19e"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>addAgent</b> (TArgs &amp;&amp;... args)</td></tr>
<tr class="separator:ad9413637352622c4a1b0c357addae19e inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcec65099f0ea71bd0be552914321cc inherit pub_methods_classdsm_1_1Dynamics" id="r_a3dcec65099f0ea71bd0be552914321cc"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>addAgents</b> (Size <a class="el" href="classdsm_1_1Dynamics.html#a811051db427641b8095c84d9d9fd4f0a">nAgents</a>, TArgs &amp;&amp;... args)</td></tr>
<tr class="separator:a3dcec65099f0ea71bd0be552914321cc inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a17816cee9ed435ae713fc20ae4ec1 inherit pub_methods_classdsm_1_1Dynamics" id="r_ac9a17816cee9ed435ae713fc20ae4ec1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ac9a17816cee9ed435ae713fc20ae4ec1">addAgents</a> (Tn... <a class="el" href="classdsm_1_1Dynamics.html#aa8065ece5954864bf70552b3bb9ee81e">agents</a>)</td></tr>
<tr class="memdesc:ac9a17816cee9ed435ae713fc20ae4ec1 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a pack of agents to the simulation.  <br /></td></tr>
<tr class="separator:ac9a17816cee9ed435ae713fc20ae4ec1 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c689feb6127dc00d90f40e37602fde6 inherit pub_methods_classdsm_1_1Dynamics" id="r_a5c689feb6127dc00d90f40e37602fde6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a5c689feb6127dc00d90f40e37602fde6">addAgents</a> (T1 agent, Tn... <a class="el" href="classdsm_1_1Dynamics.html#aa8065ece5954864bf70552b3bb9ee81e">agents</a>)</td></tr>
<tr class="memdesc:a5c689feb6127dc00d90f40e37602fde6 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a pack of agents to the simulation.  <br /></td></tr>
<tr class="separator:a5c689feb6127dc00d90f40e37602fde6 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab091092b5f83b5c93aebb2084a49d276 inherit pub_methods_classdsm_1_1Dynamics" id="r_ab091092b5f83b5c93aebb2084a49d276"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ab091092b5f83b5c93aebb2084a49d276">addAgents</a> (std::span&lt; <a class="el" href="classdsm_1_1Agent.html">Agent</a>&lt; delay_t &gt; &gt; <a class="el" href="classdsm_1_1Dynamics.html#aa8065ece5954864bf70552b3bb9ee81e">agents</a>)</td></tr>
<tr class="memdesc:ab091092b5f83b5c93aebb2084a49d276 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a set of agents to the simulation.  <br /></td></tr>
<tr class="separator:ab091092b5f83b5c93aebb2084a49d276 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539d875b987159866c491b1eeb023d41 inherit pub_methods_classdsm_1_1Dynamics" id="r_a539d875b987159866c491b1eeb023d41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a539d875b987159866c491b1eeb023d41">removeAgent</a> (Size agentId)</td></tr>
<tr class="memdesc:a539d875b987159866c491b1eeb023d41 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an agent from the simulation.  <br /></td></tr>
<tr class="separator:a539d875b987159866c491b1eeb023d41 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31882aeb733c839e20c5560f59e111ea inherit pub_methods_classdsm_1_1Dynamics" id="r_a31882aeb733c839e20c5560f59e111ea"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>removeAgents</b> (T1 id, Tn... ids)</td></tr>
<tr class="separator:a31882aeb733c839e20c5560f59e111ea inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d062d7fa1a60c4267f9a8d74f0f42d inherit pub_methods_classdsm_1_1Dynamics" id="r_a53d062d7fa1a60c4267f9a8d74f0f42d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a53d062d7fa1a60c4267f9a8d74f0f42d">addItinerary</a> (const <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &amp;itinerary)</td></tr>
<tr class="memdesc:a53d062d7fa1a60c4267f9a8d74f0f42d inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an itinerary.  <br /></td></tr>
<tr class="separator:a53d062d7fa1a60c4267f9a8d74f0f42d inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45036eb6412419dcb5bfbbe98a1ce8 inherit pub_methods_classdsm_1_1Dynamics" id="r_aad45036eb6412419dcb5bfbbe98a1ce8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#aad45036eb6412419dcb5bfbbe98a1ce8">addItinerary</a> (std::unique_ptr&lt; <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &gt; itinerary)</td></tr>
<tr class="memdesc:aad45036eb6412419dcb5bfbbe98a1ce8 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an itinerary.  <br /></td></tr>
<tr class="separator:aad45036eb6412419dcb5bfbbe98a1ce8 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea91df8dc4f7254a5d1ae142885c9b6e inherit pub_methods_classdsm_1_1Dynamics" id="r_aea91df8dc4f7254a5d1ae142885c9b6e"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>addItineraries</b> (Tn... <a class="el" href="classdsm_1_1Dynamics.html#a534104e8fac4ec3a0e4a7f0d033a3aa0">itineraries</a>)</td></tr>
<tr class="separator:aea91df8dc4f7254a5d1ae142885c9b6e inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01db54c8089df128d093fe24c01a5e6 inherit pub_methods_classdsm_1_1Dynamics" id="r_ae01db54c8089df128d093fe24c01a5e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ae01db54c8089df128d093fe24c01a5e6">addItineraries</a> (T1 itinerary, Tn... <a class="el" href="classdsm_1_1Dynamics.html#a534104e8fac4ec3a0e4a7f0d033a3aa0">itineraries</a>)</td></tr>
<tr class="memdesc:ae01db54c8089df128d093fe24c01a5e6 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a pack of itineraries.  <br /></td></tr>
<tr class="separator:ae01db54c8089df128d093fe24c01a5e6 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d646da35b0352eed0512c1be03584b3 inherit pub_methods_classdsm_1_1Dynamics" id="r_a8d646da35b0352eed0512c1be03584b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a8d646da35b0352eed0512c1be03584b3">addItineraries</a> (std::span&lt; <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &gt; <a class="el" href="classdsm_1_1Dynamics.html#a534104e8fac4ec3a0e4a7f0d033a3aa0">itineraries</a>)</td></tr>
<tr class="memdesc:a8d646da35b0352eed0512c1be03584b3 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a set of itineraries.  <br /></td></tr>
<tr class="separator:a8d646da35b0352eed0512c1be03584b3 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ef8c189fd6fc57705f351f93073a0a inherit pub_methods_classdsm_1_1Dynamics" id="r_a06ef8c189fd6fc57705f351f93073a0a"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>resetTime</b> ()</td></tr>
<tr class="memdesc:a06ef8c189fd6fc57705f351f93073a0a inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the simulation time. <br /></td></tr>
<tr class="separator:a06ef8c189fd6fc57705f351f93073a0a inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92935a5136568eeed62f78e690514fc4 inherit pub_methods_classdsm_1_1Dynamics" id="r_a92935a5136568eeed62f78e690514fc4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classdsm_1_1Graph.html">Graph</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a92935a5136568eeed62f78e690514fc4">graph</a> () const</td></tr>
<tr class="memdesc:a92935a5136568eeed62f78e690514fc4 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the graph.  <br /></td></tr>
<tr class="separator:a92935a5136568eeed62f78e690514fc4 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534104e8fac4ec3a0e4a7f0d033a3aa0 inherit pub_methods_classdsm_1_1Dynamics" id="r_a534104e8fac4ec3a0e4a7f0d033a3aa0"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; Id, std::unique_ptr&lt; <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a534104e8fac4ec3a0e4a7f0d033a3aa0">itineraries</a> () const</td></tr>
<tr class="memdesc:a534104e8fac4ec3a0e4a7f0d033a3aa0 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the itineraries.  <br /></td></tr>
<tr class="separator:a534104e8fac4ec3a0e4a7f0d033a3aa0 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8065ece5954864bf70552b3bb9ee81e inherit pub_methods_classdsm_1_1Dynamics" id="r_aa8065ece5954864bf70552b3bb9ee81e"><td class="memItemLeft" align="right" valign="top">const std::map&lt; Id, std::unique_ptr&lt; <a class="el" href="classdsm_1_1Agent.html">Agent</a>&lt; delay_t &gt; &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#aa8065ece5954864bf70552b3bb9ee81e">agents</a> () const</td></tr>
<tr class="memdesc:aa8065ece5954864bf70552b3bb9ee81e inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the agents.  <br /></td></tr>
<tr class="separator:aa8065ece5954864bf70552b3bb9ee81e inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811051db427641b8095c84d9d9fd4f0a inherit pub_methods_classdsm_1_1Dynamics" id="r_a811051db427641b8095c84d9d9fd4f0a"><td class="memItemLeft" align="right" valign="top">const Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a811051db427641b8095c84d9d9fd4f0a">nAgents</a> () const</td></tr>
<tr class="memdesc:a811051db427641b8095c84d9d9fd4f0a inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of agents currently in the simulation.  <br /></td></tr>
<tr class="separator:a811051db427641b8095c84d9d9fd4f0a inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28081f81066aa8839dbfdd257e0d393d inherit pub_methods_classdsm_1_1Dynamics" id="r_a28081f81066aa8839dbfdd257e0d393d"><td class="memItemLeft" align="right" valign="top">Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a28081f81066aa8839dbfdd257e0d393d">time</a> () const</td></tr>
<tr class="memdesc:a28081f81066aa8839dbfdd257e0d393d inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the time.  <br /></td></tr>
<tr class="separator:a28081f81066aa8839dbfdd257e0d393d inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d2c98a731630a3d6d37d4dc4d2312e inherit pub_methods_classdsm_1_1Dynamics" id="r_a44d2c98a731630a3d6d37d4dc4d2312e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a44d2c98a731630a3d6d37d4dc4d2312e">agentMeanSpeed</a> () const</td></tr>
<tr class="memdesc:a44d2c98a731630a3d6d37d4dc4d2312e inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean speed of the agents in <img class="formulaInl" alt="$m/s$" src="form_0.png"/>.  <br /></td></tr>
<tr class="separator:a44d2c98a731630a3d6d37d4dc4d2312e inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffdf21dc1194596b8c81ab286ae2248 inherit pub_methods_classdsm_1_1Dynamics" id="r_a4ffdf21dc1194596b8c81ab286ae2248"><td class="memItemLeft" align="right" valign="top">
virtual double&#160;</td><td class="memItemRight" valign="bottom"><b>streetMeanSpeed</b> (Id streetId) const</td></tr>
<tr class="separator:a4ffdf21dc1194596b8c81ab286ae2248 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1300710d427e7af2b7f6cfe030313ad inherit pub_methods_classdsm_1_1Dynamics" id="r_ab1300710d427e7af2b7f6cfe030313ad"><td class="memItemLeft" align="right" valign="top">
virtual <a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>streetMeanSpeed</b> () const</td></tr>
<tr class="separator:ab1300710d427e7af2b7f6cfe030313ad inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa1cab5c79add7c84c1501126f2707f inherit pub_methods_classdsm_1_1Dynamics" id="r_a6fa1cab5c79add7c84c1501126f2707f"><td class="memItemLeft" align="right" valign="top">
virtual <a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>streetMeanSpeed</b> (double, bool) const</td></tr>
<tr class="separator:a6fa1cab5c79add7c84c1501126f2707f inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc64164b411802972ea9be8f451486a3 inherit pub_methods_classdsm_1_1Dynamics" id="r_abc64164b411802972ea9be8f451486a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#abc64164b411802972ea9be8f451486a3">streetMeanDensity</a> (bool normalized=false) const</td></tr>
<tr class="memdesc:abc64164b411802972ea9be8f451486a3 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean density of the streets in <img class="formulaInl" alt="$m^{-1}$" src="form_1.png"/>.  <br /></td></tr>
<tr class="separator:abc64164b411802972ea9be8f451486a3 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de3682b4dc5492ce8f679a05cb16b26 inherit pub_methods_classdsm_1_1Dynamics" id="r_a7de3682b4dc5492ce8f679a05cb16b26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a7de3682b4dc5492ce8f679a05cb16b26">streetMeanFlow</a> () const</td></tr>
<tr class="memdesc:a7de3682b4dc5492ce8f679a05cb16b26 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean flow of the streets in <img class="formulaInl" alt="$s^{-1}$" src="form_2.png"/>.  <br /></td></tr>
<tr class="separator:a7de3682b4dc5492ce8f679a05cb16b26 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a8692922aad2053a5b9dc150ae238b inherit pub_methods_classdsm_1_1Dynamics" id="r_ac0a8692922aad2053a5b9dc150ae238b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ac0a8692922aad2053a5b9dc150ae238b">streetMeanFlow</a> (double threshold, bool above) const</td></tr>
<tr class="memdesc:ac0a8692922aad2053a5b9dc150ae238b inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean flow of the streets in <img class="formulaInl" alt="$s^{-1}$" src="form_2.png"/>.  <br /></td></tr>
<tr class="separator:ac0a8692922aad2053a5b9dc150ae238b inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24bce2c409bfbd40945fc6b5e821d854 inherit pub_methods_classdsm_1_1Dynamics" id="r_a24bce2c409bfbd40945fc6b5e821d854"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a24bce2c409bfbd40945fc6b5e821d854">meanSpireInputFlow</a> (bool resetValue=true)</td></tr>
<tr class="memdesc:a24bce2c409bfbd40945fc6b5e821d854 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean spire input flow of the streets in <img class="formulaInl" alt="$s^{-1}$" src="form_2.png"/>.  <br /></td></tr>
<tr class="separator:a24bce2c409bfbd40945fc6b5e821d854 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f410c33e5041b4a502b96dfe185a55a inherit pub_methods_classdsm_1_1Dynamics" id="r_a6f410c33e5041b4a502b96dfe185a55a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a6f410c33e5041b4a502b96dfe185a55a">meanSpireOutputFlow</a> (bool resetValue=true)</td></tr>
<tr class="memdesc:a6f410c33e5041b4a502b96dfe185a55a inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean spire output flow of the streets in <img class="formulaInl" alt="$s^{-1}$" src="form_2.png"/>.  <br /></td></tr>
<tr class="separator:a6f410c33e5041b4a502b96dfe185a55a inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17ef9b81cf99301f3a0f0ff76b2c4f1 inherit pub_methods_classdsm_1_1Dynamics" id="r_ad17ef9b81cf99301f3a0f0ff76b2c4f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#ad17ef9b81cf99301f3a0f0ff76b2c4f1">meanTravelTime</a> (bool clearData=false)</td></tr>
<tr class="memdesc:ad17ef9b81cf99301f3a0f0ff76b2c4f1 inherit pub_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean travel time of the agents in <img class="formulaInl" alt="$s$" src="form_3.png"/>.  <br /></td></tr>
<tr class="separator:ad17ef9b81cf99301f3a0f0ff76b2c4f1 inherit pub_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8ed28628d3f86a88e6993c6a40e422f6" id="r_a8ed28628d3f86a88e6993c6a40e422f6"><td class="memItemLeft" align="right" valign="top">virtual Id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ed28628d3f86a88e6993c6a40e422f6">m_nextStreetId</a> (Id agentId, Id NodeId, std::optional&lt; Id &gt; streetId=std::nullopt)</td></tr>
<tr class="memdesc:a8ed28628d3f86a88e6993c6a40e422f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next street id.  <br /></td></tr>
<tr class="separator:a8ed28628d3f86a88e6993c6a40e422f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67aad5d6509ca4b72537181aed8836d5" id="r_a67aad5d6509ca4b72537181aed8836d5"><td class="memItemLeft" align="right" valign="top"><a id="a67aad5d6509ca4b72537181aed8836d5" name="a67aad5d6509ca4b72537181aed8836d5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>m_increaseTurnCounts</b> (Id streetId, double delta)</td></tr>
<tr class="memdesc:a67aad5d6509ca4b72537181aed8836d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the turn counts. <br /></td></tr>
<tr class="separator:a67aad5d6509ca4b72537181aed8836d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0625d6e860f6abd562e14bbd6d9b7d9" id="r_ab0625d6e860f6abd562e14bbd6d9b7d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0625d6e860f6abd562e14bbd6d9b7d9">m_evolveStreet</a> (const std::unique_ptr&lt; <a class="el" href="classdsm_1_1Street.html">Street</a> &gt; &amp;pStreet, bool reinsert_agents) override</td></tr>
<tr class="memdesc:ab0625d6e860f6abd562e14bbd6d9b7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evolve a street.  <br /></td></tr>
<tr class="separator:ab0625d6e860f6abd562e14bbd6d9b7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9a0d84c2a97f5fe7f3d631adcbee27" id="r_a0c9a0d84c2a97f5fe7f3d631adcbee27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c9a0d84c2a97f5fe7f3d631adcbee27">m_evolveNode</a> (const std::unique_ptr&lt; <a class="el" href="classdsm_1_1Node.html">Node</a> &gt; &amp;pNode) override</td></tr>
<tr class="memdesc:a0c9a0d84c2a97f5fe7f3d631adcbee27"><td class="mdescLeft">&#160;</td><td class="mdescRight">If possible, removes one agent from the node, putting it on the next street.  <br /></td></tr>
<tr class="separator:a0c9a0d84c2a97f5fe7f3d631adcbee27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0394fd35b8209a252ad16c1c3e727428" id="r_a0394fd35b8209a252ad16c1c3e727428"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0394fd35b8209a252ad16c1c3e727428">m_evolveAgents</a> () override</td></tr>
<tr class="memdesc:a0394fd35b8209a252ad16c1c3e727428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evolve the agents.  <br /></td></tr>
<tr class="separator:a0394fd35b8209a252ad16c1c3e727428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classdsm_1_1Dynamics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classdsm_1_1Dynamics')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a></td></tr>
<tr class="memitem:a8a793b3586d590502ac7028df32cbe2f inherit pro_methods_classdsm_1_1Dynamics" id="r_a8a793b3586d590502ac7028df32cbe2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsm_1_1Dynamics.html#a8a793b3586d590502ac7028df32cbe2f">m_updatePath</a> (const std::unique_ptr&lt; <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &gt; &amp;pItinerary)</td></tr>
<tr class="memdesc:a8a793b3586d590502ac7028df32cbe2f inherit pro_methods_classdsm_1_1Dynamics"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the path of a single itinerary using Dijsktra's algorithm.  <br /></td></tr>
<tr class="separator:a8a793b3586d590502ac7028df32cbe2f inherit pro_methods_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5490dd8b01218e307dbc96eb1a11f038" id="r_a5490dd8b01218e307dbc96eb1a11f038"><td class="memItemLeft" align="right" valign="top"><a id="a5490dd8b01218e307dbc96eb1a11f038" name="a5490dd8b01218e307dbc96eb1a11f038"></a>
Time&#160;</td><td class="memItemRight" valign="bottom"><b>m_previousOptimizationTime</b></td></tr>
<tr class="separator:a5490dd8b01218e307dbc96eb1a11f038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed6418b199c48ba3d298a801b1cc98d" id="r_aaed6418b199c48ba3d298a801b1cc98d"><td class="memItemLeft" align="right" valign="top"><a id="aaed6418b199c48ba3d298a801b1cc98d" name="aaed6418b199c48ba3d298a801b1cc98d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>m_errorProbability</b></td></tr>
<tr class="separator:aaed6418b199c48ba3d298a801b1cc98d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08034924562b1e34d67708416cda4022" id="r_a08034924562b1e34d67708416cda4022"><td class="memItemLeft" align="right" valign="top"><a id="a08034924562b1e34d67708416cda4022" name="a08034924562b1e34d67708416cda4022"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>m_passageProbability</b></td></tr>
<tr class="separator:a08034924562b1e34d67708416cda4022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb23f131e7d7b4ad6092788254d3135d" id="r_aeb23f131e7d7b4ad6092788254d3135d"><td class="memItemLeft" align="right" valign="top"><a id="aeb23f131e7d7b4ad6092788254d3135d" name="aeb23f131e7d7b4ad6092788254d3135d"></a>
std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_travelTimes</b></td></tr>
<tr class="separator:aeb23f131e7d7b4ad6092788254d3135d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e3479985e6e81c60e8ea8cc769e1f8" id="r_ae5e3479985e6e81c60e8ea8cc769e1f8"><td class="memItemLeft" align="right" valign="top"><a id="ae5e3479985e6e81c60e8ea8cc769e1f8" name="ae5e3479985e6e81c60e8ea8cc769e1f8"></a>
std::unordered_map&lt; Id, Id &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_agentNextStreetId</b></td></tr>
<tr class="separator:ae5e3479985e6e81c60e8ea8cc769e1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e8a9081ec0c9e446150d0f7f561c27" id="r_a14e8a9081ec0c9e446150d0f7f561c27"><td class="memItemLeft" align="right" valign="top"><a id="a14e8a9081ec0c9e446150d0f7f561c27" name="a14e8a9081ec0c9e446150d0f7f561c27"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_forcePriorities</b></td></tr>
<tr class="separator:a14e8a9081ec0c9e446150d0f7f561c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79816dd6925ecc6a3b4c455cda38182" id="r_ac79816dd6925ecc6a3b4c455cda38182"><td class="memItemLeft" align="right" valign="top"><a id="ac79816dd6925ecc6a3b4c455cda38182" name="ac79816dd6925ecc6a3b4c455cda38182"></a>
std::optional&lt; delay_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_dataUpdatePeriod</b></td></tr>
<tr class="separator:ac79816dd6925ecc6a3b4c455cda38182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6537297baed0d608534aaef87cc02c0" id="r_aa6537297baed0d608534aaef87cc02c0"><td class="memItemLeft" align="right" valign="top"><a id="aa6537297baed0d608534aaef87cc02c0" name="aa6537297baed0d608534aaef87cc02c0"></a>
std::unordered_map&lt; Id, std::array&lt; unsigned long long, 4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_turnCounts</b></td></tr>
<tr class="separator:aa6537297baed0d608534aaef87cc02c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada76a6e3b32b6d5b0f540e7e83380ab1" id="r_ada76a6e3b32b6d5b0f540e7e83380ab1"><td class="memItemLeft" align="right" valign="top"><a id="ada76a6e3b32b6d5b0f540e7e83380ab1" name="ada76a6e3b32b6d5b0f540e7e83380ab1"></a>
std::unordered_map&lt; Id, std::array&lt; long, 4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_turnMapping</b></td></tr>
<tr class="separator:ada76a6e3b32b6d5b0f540e7e83380ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e6ef0941579032408e14eb951e2a7c" id="r_ab4e6ef0941579032408e14eb951e2a7c"><td class="memItemLeft" align="right" valign="top"><a id="ab4e6ef0941579032408e14eb951e2a7c" name="ab4e6ef0941579032408e14eb951e2a7c"></a>
std::unordered_map&lt; Id, Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_streetTails</b></td></tr>
<tr class="separator:ab4e6ef0941579032408e14eb951e2a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classdsm_1_1Dynamics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classdsm_1_1Dynamics')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a></td></tr>
<tr class="memitem:a24ce69e95f21cfa16b1d427db43e74df inherit pro_attribs_classdsm_1_1Dynamics" id="r_a24ce69e95f21cfa16b1d427db43e74df"><td class="memItemLeft" align="right" valign="top">
std::unordered_map&lt; Id, std::unique_ptr&lt; <a class="el" href="classdsm_1_1Itinerary.html">Itinerary</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_itineraries</b></td></tr>
<tr class="separator:a24ce69e95f21cfa16b1d427db43e74df inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a52f5211102786213a6cfd1d7567613 inherit pro_attribs_classdsm_1_1Dynamics" id="r_a1a52f5211102786213a6cfd1d7567613"><td class="memItemLeft" align="right" valign="top">
std::map&lt; Id, std::unique_ptr&lt; <a class="el" href="classdsm_1_1Agent.html">Agent</a>&lt; delay_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_agents</b></td></tr>
<tr class="separator:a1a52f5211102786213a6cfd1d7567613 inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3faa2b1524ea12239b8829f5e39d97cc inherit pro_attribs_classdsm_1_1Dynamics" id="r_a3faa2b1524ea12239b8829f5e39d97cc"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classdsm_1_1Graph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_graph</b></td></tr>
<tr class="separator:a3faa2b1524ea12239b8829f5e39d97cc inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecde1661d5fb0fc2a42eefbd164ae8c3 inherit pro_attribs_classdsm_1_1Dynamics" id="r_aecde1661d5fb0fc2a42eefbd164ae8c3"><td class="memItemLeft" align="right" valign="top">
Time&#160;</td><td class="memItemRight" valign="bottom"><b>m_time</b></td></tr>
<tr class="separator:aecde1661d5fb0fc2a42eefbd164ae8c3 inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ab3ec13a223794895efb296c765fdb inherit pro_attribs_classdsm_1_1Dynamics" id="r_a48ab3ec13a223794895efb296c765fdb"><td class="memItemLeft" align="right" valign="top">
Time&#160;</td><td class="memItemRight" valign="bottom"><b>m_previousSpireTime</b></td></tr>
<tr class="separator:a48ab3ec13a223794895efb296c765fdb inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de6b1865580544ee11a9293f0a53239 inherit pro_attribs_classdsm_1_1Dynamics" id="r_a4de6b1865580544ee11a9293f0a53239"><td class="memItemLeft" align="right" valign="top">
std::mt19937_64&#160;</td><td class="memItemRight" valign="bottom"><b>m_generator</b></td></tr>
<tr class="separator:a4de6b1865580544ee11a9293f0a53239 inherit pro_attribs_classdsm_1_1Dynamics"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename delay_t&gt;<br />
requires (is_numeric_v&lt;delay_t&gt;)<br />
class dsm::RoadDynamics&lt; delay_t &gt;</div><p>The <a class="el" href="classdsm_1_1RoadDynamics.html" title="The RoadDynamics class represents the dynamics of the network.">RoadDynamics</a> class represents the dynamics of the network. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Id,The</td><td>type of the graph's id. It must be an unsigned integral type. </td></tr>
    <tr><td class="paramname">Size,The</td><td>type of the graph's capacity. It must be an unsigned integral type. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2e7c477b418ed6c61f88355a2916bd79" name="a2e7c477b418ed6c61f88355a2916bd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7c477b418ed6c61f88355a2916bd79">&#9670;&#160;</a></span>RoadDynamics()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::RoadDynamics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdsm_1_1Graph.html">Graph</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>graph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; unsigned int &gt;</td>          <td class="paramname"><span class="paramname"><em>seed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classdsm_1_1RoadDynamics.html" title="The RoadDynamics class represents the dynamics of the network.">RoadDynamics</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>The graph representing the network </td></tr>
    <tr><td class="paramname">seed</td><td>The seed for the random number generator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a650f3ff232559264393f0eb9bbf0f61a" name="a650f3ff232559264393f0eb9bbf0f61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a650f3ff232559264393f0eb9bbf0f61a">&#9670;&#160;</a></span>addAgentsRandomly()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (std::is_same_v&lt;TContainer, std::unordered_map&lt;Id, double&gt;&gt; || std::is_same_v&lt;TContainer, std::map&lt;Id, double&gt;&gt;)</div>
<div class="memtemplate">
template&lt;typename TContainer &gt; <br />
requires (std::is_same_v&lt;TContainer, std::unordered_map&lt;Id, double&gt;&gt; || std::is_same_v&lt;TContainer, std::map&lt;Id, double&gt;&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::addAgentsRandomly </td>
          <td>(</td>
          <td class="paramtype">Size</td>          <td class="paramname"><span class="paramname"><em>nAgents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TContainer &amp;</td>          <td class="paramname"><span class="paramname"><em>src_weights</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TContainer &amp;</td>          <td class="paramname"><span class="paramname"><em>dst_weights</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a set of agents to the simulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nAgents</td><td>The number of agents to add </td></tr>
    <tr><td class="paramname">src_weights</td><td>The weights of the source nodes </td></tr>
    <tr><td class="paramname">dst_weights</td><td>The weights of the destination nodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>If the source and destination nodes are the same </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10e64241144ebce8b5a5337b30daf726" name="a10e64241144ebce8b5a5337b30daf726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e64241144ebce8b5a5337b30daf726">&#9670;&#160;</a></span>addAgentsUniformly()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::addAgentsUniformly </td>
          <td>(</td>
          <td class="paramtype">Size</td>          <td class="paramname"><span class="paramname"><em>nAgents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; Id &gt;</td>          <td class="paramname"><span class="paramname"><em>itineraryId</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::nullopt</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a set of agents to the simulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nAgents</td><td>The number of agents to add </td></tr>
    <tr><td class="paramname">uniformly</td><td>If true, the agents are added uniformly on the streets </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>If there are no itineraries </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c66068e1b8c35c543884794748472b0" name="a8c66068e1b8c35c543884794748472b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c66068e1b8c35c543884794748472b0">&#9670;&#160;</a></span>evolve()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::evolve </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>reinsert_agents</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evolve the simulation. </p>
<p>Evolve the simulation by moving the agents and updating the travel times. In particular:</p><ul>
<li>Move the first agent of each street queue, if possible, putting it in the next node</li>
<li>Move the agents from each node, if possible, putting them in the next street and giving them a speed. If the error probability is not zero, the agents can move to a random street. If the agent is in the destination node, it is removed from the simulation (and then reinserted if reinsert_agents is true)</li>
<li>Cycle over agents and update their times <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reinsert_agents</td><td>If true, the agents are reinserted in the simulation after they reach their destination </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p>Implements <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a>.</p>

</div>
</div>
<a id="a0394fd35b8209a252ad16c1c3e727428" name="a0394fd35b8209a252ad16c1c3e727428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0394fd35b8209a252ad16c1c3e727428">&#9670;&#160;</a></span>m_evolveAgents()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::m_evolveAgents </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evolve the agents. </p>
<p>Puts all new agents on a street, if possible, decrements all delays and increments all travel times. </p>

<p>Implements <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a>.</p>

</div>
</div>
<a id="a0c9a0d84c2a97f5fe7f3d631adcbee27" name="a0c9a0d84c2a97f5fe7f3d631adcbee27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9a0d84c2a97f5fe7f3d631adcbee27">&#9670;&#160;</a></span>m_evolveNode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::m_evolveNode </td>
          <td>(</td>
          <td class="paramtype">const std::unique_ptr&lt; <a class="el" href="classdsm_1_1Node.html">Node</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>pNode</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If possible, removes one agent from the node, putting it on the next street. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pNode</td><td>A std::unique_ptr to the node </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True if the agent has been moved, false otherwise </dd></dl>

<p>Implements <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a>.</p>

</div>
</div>
<a id="ab0625d6e860f6abd562e14bbd6d9b7d9" name="ab0625d6e860f6abd562e14bbd6d9b7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0625d6e860f6abd562e14bbd6d9b7d9">&#9670;&#160;</a></span>m_evolveStreet()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::m_evolveStreet </td>
          <td>(</td>
          <td class="paramtype">const std::unique_ptr&lt; <a class="el" href="classdsm_1_1Street.html">Street</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>pStreet</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>reinsert_agents</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evolve a street. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pStreet</td><td>A std::unique_ptr to the street </td></tr>
    <tr><td class="paramname">reinsert_agents</td><td>If true, the agents are reinserted in the simulation after they reach their destination</td></tr>
  </table>
  </dd>
</dl>
<p>If possible, removes the first agent of the street's queue, putting it in the destination node. If the agent is going into the destination node, it is removed from the simulation (and then reinserted if reinsert_agents is true) </p>

<p>Implements <a class="el" href="classdsm_1_1Dynamics.html">dsm::Dynamics&lt; Agent&lt; delay_t &gt; &gt;</a>.</p>

</div>
</div>
<a id="a8ed28628d3f86a88e6993c6a40e422f6" name="a8ed28628d3f86a88e6993c6a40e422f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed28628d3f86a88e6993c6a40e422f6">&#9670;&#160;</a></span>m_nextStreetId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Id <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::m_nextStreetId </td>
          <td>(</td>
          <td class="paramtype">Id</td>          <td class="paramname"><span class="paramname"><em>agentId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Id</td>          <td class="paramname"><span class="paramname"><em>NodeId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; Id &gt;</td>          <td class="paramname"><span class="paramname"><em>streetId</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::nullopt</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the next street id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agentId</td><td>The id of the agent </td></tr>
    <tr><td class="paramname">NodeId</td><td>The id of the node </td></tr>
    <tr><td class="paramname">streetId</td><td>The id of the incoming street </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Id The id of the randomly selected next street </dd></dl>

</div>
</div>
<a id="af23171abf782e64ccc2064510ffe4ccc" name="af23171abf782e64ccc2064510ffe4ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af23171abf782e64ccc2064510ffe4ccc">&#9670;&#160;</a></span>meanTravelTime()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdsm_1_1Measurement.html">Measurement</a>&lt; double &gt; <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::meanTravelTime </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>clearData</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the mean travel time of the agents in <img class="formulaInl" alt="$s$" src="form_3.png"/>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clearData</td><td>If true, the travel times are cleared after the computation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Measurement&lt;double&gt; The mean travel time of the agents and the standard </dd></dl>

</div>
</div>
<a id="a7fe8243abb7a8d9055791bf91bdbce36" name="a7fe8243abb7a8d9055791bf91bdbce36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe8243abb7a8d9055791bf91bdbce36">&#9670;&#160;</a></span>optimizeTrafficLights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::optimizeTrafficLights </td>
          <td>(</td>
          <td class="paramtype">double const</td>          <td class="paramname"><span class="paramname"><em>threshold</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double const</td>          <td class="paramname"><span class="paramname"><em>densityTolerance</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TrafficLightOptimization</td>          <td class="paramname"><span class="paramname"><em>optimizationType</em></span><span class="paramdefsep"> = </span><span class="paramdefval">TrafficLightOptimization::DOUBLE_TAIL</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optimize the traffic lights by changing the green and red times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>double, The percentage of the mean capacity of the streets used as threshold for the delta between the two tails. </td></tr>
    <tr><td class="paramname">densityTolerance</td><td>double, The algorithm will consider all streets with density up to densityTolerance*meanDensity </td></tr>
    <tr><td class="paramname">optimizationType</td><td>TrafficLightOptimization, The type of optimization. Default is DOUBLE_TAIL</td></tr>
  </table>
  </dd>
</dl>
<p>The function cycles over the traffic lights and, if the difference between the two tails is greater than the threshold multiplied by the mean capacity of the streets, it changes the green and red times of the traffic light, keeping the total cycle time constant. The optimizationType parameter can be set to SINGLE_TAIL to use an algorith which looks only at the incoming street tails or to DOUBLE_TAIL to consider both incoming and outgoing street tails. </p>

</div>
</div>
<a id="a1c7d2135120ec276235f9d4ce7199818" name="a1c7d2135120ec276235f9d4ce7199818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7d2135120ec276235f9d4ce7199818">&#9670;&#160;</a></span>setDataUpdatePeriod()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::setDataUpdatePeriod </td>
          <td>(</td>
          <td class="paramtype">delay_t</td>          <td class="paramname"><span class="paramname"><em>dataUpdatePeriod</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the data update period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataUpdatePeriod</td><td>delay_t, The period</td></tr>
  </table>
  </dd>
</dl>
<p>Some data, i.e. the street queue lengths, are stored only after a fixed amount of time which is represented by this variable. </p>

</div>
</div>
<a id="a9ce16360e5da3152a04089a56c484b38" name="a9ce16360e5da3152a04089a56c484b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce16360e5da3152a04089a56c484b38">&#9670;&#160;</a></span>setErrorProbability()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::setErrorProbability </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>errorProbability</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the error probability. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errorProbability</td><td>The error probability </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>If the error probability is not between 0 and 1 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a216653cf5a0f151fa8eb93a0e01cce42" name="a216653cf5a0f151fa8eb93a0e01cce42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216653cf5a0f151fa8eb93a0e01cce42">&#9670;&#160;</a></span>setForcePriorities()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::setForcePriorities </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>forcePriorities</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the force priorities flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">forcePriorities</td><td>The flag</td></tr>
  </table>
  </dd>
</dl>
<p>If true, if an agent cannot move to the next street, the whole node is skipped </p>

</div>
</div>
<a id="ad3d11b91ab4f49b69c65602eb3a8c0f3" name="ad3d11b91ab4f49b69c65602eb3a8c0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d11b91ab4f49b69c65602eb3a8c0f3">&#9670;&#160;</a></span>turnCounts()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; Id, std::array&lt; unsigned long long, 4 &gt; &gt; &amp; <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::turnCounts </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the turn counts of the agents. </p>
<dl class="section return"><dt>Returns</dt><dd>const std::array&lt;unsigned long long, 3&gt;&amp; The turn counts</dd></dl>
<p>The array contains the counts of left (0), straight (1), right (2) and U (3) turns </p>

</div>
</div>
<a id="a845dd93c3d2efdf86426a57c05b7e7f8" name="a845dd93c3d2efdf86426a57c05b7e7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845dd93c3d2efdf86426a57c05b7e7f8">&#9670;&#160;</a></span>turnProbabilities()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename delay_t &gt; <br />
requires (is_numeric_v&lt;delay_t&gt;)</div>
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; Id, std::array&lt; double, 4 &gt; &gt; <a class="el" href="classdsm_1_1RoadDynamics.html">dsm::RoadDynamics</a>&lt; delay_t &gt;::turnProbabilities </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>reset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the turn probabilities of the agents. </p>
<dl class="section return"><dt>Returns</dt><dd>std::array&lt;double, 3&gt; The turn probabilities</dd></dl>
<p>The array contains the probabilities of left (0), straight (1), right (2) and U (3) turns </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/dsm/headers/<a class="el" href="RoadDynamics_8hpp.html">RoadDynamics.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedsm.html">dsm</a></li><li class="navelem"><a class="el" href="classdsm_1_1RoadDynamics.html">RoadDynamics</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
